<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Promise API</title>
</head>
<body>
    
</body>
<script>
    //Promise API
    let p1 = new Promise((resolve, reject) => {
        setTimeout(() => {
            resolve(1);
        }, 11000);
    })
    let p2 = new Promise((resolve, reject) => {
        setTimeout(() => {
            resolve(2);
            // reject(new Error("This is error"))
        }, 2000);
    })
    let p3 = new Promise((resolve, reject) => {
        setTimeout(() => {
            resolve(3);
        }, 3000);
    })
    /*
    p1.then(value =>{
        console.log(value)
    })
    p2.then(value =>{
        console.log(value)
    })
    p3.then(value =>{
        console.log(value)
    })*/
   /*
   these promises taking different times to resolve and then() print there value but I want to do something when all promises get fulfilled
   like printing their resolve value when these all promises get fulfilled
   so use Promise API methods
   */
    //Primmary Methods of Promise API
    /*code 1st API method
     let promises_All = Promise.all([p1,p2,p3]); 

        //  Promise.All returns an array of when all the given promises will be resolved
        //     Promise.all will not work if one of promise get rejected.
        //     but we want see rejected value to. then use Promise.allSettled
    

    promises_All.then(value =>{
        console.log(value);//array of all resolved promises
        console.log(value[0]);
        console.log(value[1]);
        console.log(value[2]);
    })
        code End */
    /*
    let settledPromises = Promise.allSettled([p1,p2,p3]); //2nd method
    
    settledPromises.then(value =>{
        console.log(value);//array of all resolved and rejected promises
        console.log(value[0]);
        console.log(value[1]);//this is rejected but Promise.allSettled will execute
        console.log(value[2]);
    })*/

    /*
    3rd 
    let settledPromises = Promise.race([p1,p2,p3]);//returns the promise which fulfilled first in given array of promises
    settledPromises.then(value =>{
        console.log(value);//value of first resolved promise(if first fullfilled promise is rejected then its throw error)
        console.log(value[0]);
        console.log(value[1]);
        console.log(value[2]);
    })*/
    
    /*
    // 4th
    let settledPromises = Promise.any([p1,p2,p3]);//returns the promise which fulfilled first in given array of promises
    settledPromises.then(value =>{
        console.log(value);//value of first resolved promise(while ignoring the reject promises)
        console.log(value[0]);
        console.log(value[1]);//this is rejected so it will be ignored 
        console.log(value[2]);
    })
        */
     
        
        let resolved_promise = Promise.resolve(999);//create new resolved promise
        let rejected_promise =  Promise.reject("reject");//create new rejected promise
        console.log(rejected_promise);
        console.log(resolved_promise);




</script>
</html>

