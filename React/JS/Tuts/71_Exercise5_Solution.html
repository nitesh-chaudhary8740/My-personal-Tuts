<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 5 Soluton</title>
</head>
<style>
    body{
        background-color: black;
        color: rgb(55, 212, 12);
        font-size: 30px;
        
    }
    #text{
        margin: auto;
        padding: 10px;
        width: fit-content;
        border: 4px solid rgb(55,212,12);
        text-align: center;
    }
</style>
<body>
    <div id="text"></div>
</body>
<script>
    let a = [
        "Initializing Hack tool",
        "Connecting to Facebook",
        "Connecting to server 1",
        "Connection failed Retrying...",
        "Connecting to server 2",
        "Connected Successfully!",
        "Username nik",
        "Trying brute force",
        "200k Password tried",
        "Match not found",
        "Match Found",
        "Accessing Account",
        "Hack Successful!!",

    ]
    const sleep = async (sleepTime) => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
            resolve(true)
            }, sleepTime*1000);
        })
    }

  const showHack = async(message) =>{
    await sleep(2);
        // console.log(message)
        text.innerHTML = text.innerHTML + message + "<br>";

    }
    (async () =>{
       for (let index = 0; index < a.length; index++) {
           
         await showHack(a[index]); //why await here answer is below
         //cant use foreach loop it dont works on asynchronous code
           //why await requires before showhack
           
       }
    })();
    /* mine
    that means first, show hack create a new promise with pending state,
     and then start execution if execution is finished then it will returned as fulfill promise,
     otherwise it will returned as pending when it created, if I dont use await before showhack(a[index]);
    */
/*meta
If you remove the await keyword from showHack(a[index]), the code will behave differently:
Without await:
The showHack function will be called for each message in the a array, but the execution of the loop will not be paused.
The showHack function will return a Promise, but the loop will not wait for that Promise to resolve.
As a result, the loop will iterate over the entire a array quickly, without waiting for each message to be displayed.
The messages will still be displayed, but they will appear all at once, without the 2-second delay between each message.
*/
</script>
</html>